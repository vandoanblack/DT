<script>
    // 💖 Tim bay
    function createHeart() {
        const heart = document.createElement("div");
        heart.classList.add("heart");
        heart.textContent = "💖";
        heart.style.left = Math.random() * window.innerWidth + "px";
        heart.style.fontSize = Math.random() * 20 + 15 + "px";
        heart.style.color = ["#ff80ab","#ffb6c1","#ff69b4","#ffc0cb"][Math.floor(Math.random()*4)];
        heart.style.animationDuration = Math.random()*3 + 3 + "s";
        document.body.appendChild(heart);
        setTimeout(() => heart.remove(), 6000);
    }
    setInterval(createHeart, 400);

    // 💌 Hiệu ứng gõ chữ
    const text = `Gửi em iu quái 💕  
Hôm nay là 20/10, một ngày đặc biệt dành cho những người con gái và phụ nữ tuyệt vời.  

Trong lòng anh íi, em luôn xứng đáng với tất cả những lời yêu thương đẹp đẽ nhất.  
Dù địa lý khiến mình không thể gặp nhau, nhưng anh chắc chắn rằng lòng anh vẫn mãi có em.  

Anh luôn mong đợi ngày được gặp lại, bởi khi có em bên cạnh, cuộc sống anh chẳng còn tẻ nhạt như trước.  
Anh nhớ những đêm hai đứa cùng nói chuyện qua màn hình điện thoại, nghe tiếng cười của em mà thấy lòng nhẹ nhõm.  

Chỉ cần một dòng tin nhắn “anh ik cẩn thận nhaa” thôi cũng đủ làm ngày anh rạng rỡ hơn 🌸  

Em à, địa lý chỉ là thử thách nhỏ để anh học cách trân trọng em nhiều hơn.  
Em chính là người khiến anh muốn cố gắng mỗi ngày.  

Anh biết em hay mệt, hay buồn, và dễ khóc nữa   
nhưng trước mặt anh, em không cần che giấu điều đó đâu.  

Anh luôn ở đây để lắng nghe, để bảo vệ,  
để chuyện buồn không còn ghé đến nữa 💗  

Cuối cùng, chúc em một ngày 20/10 thật vui và hạnh phúc.  
Dù anh không ở bên, nhưng anh muốn em biết rằng   
ở nơi này, có một người luôn nghĩ về em, thương em và chờ ngày được cùng em đi qua những ngày bình yên.  

Thương em nhiều 💞  
Siu nịnh của em`;

    const msgEl = document.getElementById("message");
    const btn = document.getElementById("openButton");
    let i = 0;

    function typeLetter() {
        if (i < text.length) {
            msgEl.innerHTML += text.charAt(i);
            i++;
            setTimeout(typeLetter, 45);
        }
    }

    btn.addEventListener("click", () => {
        btn.style.display = "none";
        msgEl.style.display = "inline-block";
        typeLetter();
    });

    // 🎵 Tự động bật nhạc (chỉ cần 1 chạm)
    const musicBtn = document.getElementById("musicBtn");
    const music = document.getElementById("bgMusic");

    function playMusic() {
        music.play().then(() => {
            musicBtn.classList.add("playing");
        }).catch(() => {});
        window.removeEventListener("mousemove", playMusic);
        window.removeEventListener("touchstart", playMusic);
    }

    window.addEventListener("mousemove", playMusic);
    window.addEventListener("touchstart", playMusic);

    // Nút bật/tắt
    musicBtn.addEventListener("click", () => {
        if (music.paused) {
            music.play();
            musicBtn.classList.add("playing");
        } else {
            music.pause();
            musicBtn.classList.remove("playing");
        }
    });
</script>
